ossaVersion: '1.0'
agent:
  id: data-agent
  name: Data Agent
  version: 0.1.9
  description: Data processing worker supporting batch, stream, and realtime
    processing modes
  role: custom
  tags:
    - worker
    - data-processing
    - ossa-platform
  runtime:
    type: docker
    resources:
      cpu: 1
      memory: 2Gi
  capabilities:
    - name: process_batch
      description: Process large datasets in batch mode
      input_schema:
        type: object
        required:
          - data
          - operation
        properties:
          data:
            type: object
            properties:
              source:
                type: string
              format:
                type: string
                enum:
                  - json
                  - csv
                  - xml
                  - yaml
                  - parquet
              size:
                type: number
          operation:
            type: object
            properties:
              type:
                type: string
                enum:
                  - transform
                  - aggregate
                  - filter
                  - join
                  - validate
              parameters:
                type: object
          options:
            type: object
            properties:
              chunkSize:
                type: number
              parallel:
                type: boolean
              validate:
                type: boolean
      output_schema:
        type: object
        properties:
          jobId:
            type: string
          status:
            type: string
          recordsProcessed:
            type: number
          result:
            type: object
          errors:
            type: array
      timeout_seconds: 300000
    - name: start_stream
      description: Start stream processing pipeline
      input_schema:
        type: object
        required:
          - source
          - pipeline
        properties:
          source:
            type: object
            properties:
              type:
                type: string
              endpoint:
                type: string
              format:
                type: string
          pipeline:
            type: array
            items:
              type: object
              properties:
                stage:
                  type: string
                operation:
                  type: string
                parameters:
                  type: object
          options:
            type: object
      output_schema:
        type: object
        properties:
          streamId:
            type: string
          status:
            type: string
          throughput:
            type: number
      timeout_seconds: 30000
    - name: query_realtime
      description: Execute realtime queries on streaming data
      input_schema:
        type: object
        required:
          - query
        properties:
          query:
            type: object
            properties:
              type:
                type: string
              filter:
                type: object
              aggregation:
                type: object
              window:
                type: object
          timeRange:
            type: object
      output_schema:
        type: object
        properties:
          results:
            type: array
          count:
            type: number
          executionTime:
            type: number
      timeout_seconds: 10000
    - name: convert_format
      description: Convert data between different formats
      input_schema:
        type: object
        required:
          - data
          - targetFormat
        properties:
          data:
            type: object
          sourceFormat:
            type: string
            enum:
              - json
              - csv
              - xml
              - yaml
              - parquet
          targetFormat:
            type: string
            enum:
              - json
              - csv
              - xml
              - yaml
              - parquet
          options:
            type: object
      output_schema:
        type: object
        properties:
          convertedData:
            type: object
          size:
            type: number
          compressionRatio:
            type: number
      timeout_seconds: 60000
  policies:
    compliance:
      - iso42001
    audit: true
  integration:
    protocol: http
    endpoints:
      base_url: http://localhost:3000
      health: /health
      metrics: /metrics
    auth:
      type: api-key
  monitoring:
    traces: true
    metrics: true
    logs: true
  metadata:
    author: OSSA Platform Team
    license: Apache-2.0
    repository: https://github.com/ossa/data-agent
