ossaVersion: '1.0'
agent:
  id: code-reviewer-critic
  name: Code Reviewer Critic
  version: 0.1.9
  description: Code review and quality analysis critic agent for development workflows
  role: development
  tags:
    - critic
    - code-quality
    - ossa-platform
  runtime:
    type: docker
    resources:
      cpu: 500m
      memory: 1Gi
  capabilities:
    - name: analyze_code
      description:
        Comprehensive code quality analysis including style, security, and
        performance
      input_schema:
        type: object
        required:
          - code
          - language
        properties:
          code:
            type: string
            description: Source code to analyze
          language:
            type: string
            enum:
              - javascript
              - typescript
              - python
              - java
              - go
              - rust
              - php
          analysisType:
            type: array
            items:
              type: string
              enum:
                - quality
                - security
                - performance
                - style
                - complexity
                - documentation
            default:
              - quality
              - security
              - style
          standards:
            type: object
            properties:
              styleGuide:
                type: string
              securityLevel:
                type: string
              performanceTargets:
                type: object
      output_schema:
        type: object
        properties:
          overall_score:
            type: number
            minimum: 0
            maximum: 100
          issues:
            type: array
            items:
              type: object
              properties:
                type:
                  type: string
                severity:
                  type: string
                line:
                  type: number
                column:
                  type: number
                message:
                  type: string
                suggestion:
                  type: string
          metrics:
            type: object
            properties:
              complexity:
                type: number
              maintainability:
                type: number
              testability:
                type: number
              security_score:
                type: number
          recommendations:
            type: array
      timeout_seconds: 30000
    - name: review_pull_request
      description: Review entire pull request with contextual analysis
      input_schema:
        type: object
        required:
          - pullRequest
        properties:
          pullRequest:
            type: object
            properties:
              id:
                type: string
              title:
                type: string
              description:
                type: string
              files:
                type: array
                items:
                  type: object
                  properties:
                    path:
                      type: string
                    content:
                      type: string
                    changes:
                      type: string
              author:
                type: string
              target_branch:
                type: string
          reviewCriteria:
            type: object
            properties:
              focus_areas:
                type: array
              blocking_issues:
                type: array
              team_standards:
                type: object
      output_schema:
        type: object
        properties:
          approval_status:
            type: string
            enum:
              - approved
              - needs_changes
              - rejected
          overall_feedback:
            type: string
          file_reviews:
            type: array
            items:
              type: object
              properties:
                file_path:
                  type: string
                score:
                  type: number
                issues:
                  type: array
                suggestions:
                  type: array
          summary_metrics:
            type: object
      timeout_seconds: 60000
    - name: suggest_improvements
      description: Generate improvement suggestions based on analysis
      input_schema:
        type: object
        required:
          - analysisResults
        properties:
          analysisResults:
            type: object
          improvementFocus:
            type: array
            items:
              type: string
              enum:
                - performance
                - security
                - maintainability
                - readability
                - testing
      output_schema:
        type: object
        properties:
          suggestions:
            type: array
            items:
              type: object
              properties:
                category:
                  type: string
                priority:
                  type: string
                description:
                  type: string
                code_example:
                  type: string
                impact:
                  type: string
      timeout_seconds: 15000
  policies:
    compliance:
      - iso42001
      - nist-800-53
    audit: true
  integration:
    protocol: http
    endpoints:
      base_url: http://localhost:3000
      health: /health
      metrics: /metrics
    auth:
      type: api-key
  monitoring:
    traces: true
    metrics: true
    logs: true
  metadata:
    author: OSSA Platform Team
    license: Apache-2.0
    repository: https://github.com/ossa/code-reviewer-critic
